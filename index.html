<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Garden Brick Order</title>

<style>
:root{
  --border:#d9d9d9;
  --text:#111;
  --muted:#555;
  --ok:#2e7d32;
  --okBg:#e8f5e9;
  --err:#b00020;
  --errBg:#ffebee;
}

*{box-sizing:border-box}

body{
  margin:0;
  padding:24px 14px;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#fff;
  color:var(--text);
}

.wrap{max-width:900px;margin:auto}

.card{
  border:1px solid var(--border);
  border-radius:14px;
  background:#fff;
  overflow:hidden;
}

/* ===== HEADER IMAGE ===== */
.header-image{
  width:100%;
  height:260px;
  background-image:url("https://raw.githubusercontent.com/vumc-media/brick-garden-form/main/Memory%20Garden.png");
  background-size:cover;
  background-position:center;
  position:relative;
}
.header-image::after{
  content:"";
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  height:70px;
  background:linear-gradient(to bottom, rgba(255,255,255,0), #fff);
}
@media(max-width:700px){
  .header-image{height:180px}
}
@media print{
  .header-image{display:none}
}

/* ===== CONTENT ===== */
.content{padding:22px}

h1{margin:0 0 8px;font-size:26px}
.sub{margin:0 0 14px;color:var(--muted);font-size:14.5px}

.pillrow{display:flex;gap:10px;flex-wrap:wrap;margin:12px 0 18px}
.pill{
  border:1px solid var(--border);
  border-radius:999px;
  padding:8px 12px;
  font-size:13px;
  color:var(--muted);
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
}
@media(max-width:760px){.grid{grid-template-columns:1fr}}

label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}

input,select,textarea{
  width:100%;
  padding:11px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:14.5px;
}
textarea{min-height:90px}

.section{margin-top:18px}
.section h3{margin:0 0 6px;font-size:16px}
.help{font-size:13px;color:var(--muted)}

.total{
  margin-top:14px;
  padding:14px 16px;
  border:2px solid #000;
  border-radius:12px;
  background:#fafafa;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
}
.total .amt{
  font-size:22px;
  font-weight:900;
}

.buttons{margin-top:18px;display:flex;gap:12px;flex-wrap:wrap}
button{
  padding:11px 16px;
  border-radius:10px;
  border:none;
  font-weight:750;
  cursor:pointer;
  background:#111;
  color:#fff;
}
button.secondary{
  background:#fff;
  color:#111;
  border:1px solid var(--border);
}

.status{
  margin-top:16px;
  padding:12px 14px;
  border-radius:12px;
  display:none;
}
.status.ok{
  display:block;
  border:1px solid var(--ok);
  background:var(--okBg);
}
.status.err{
  display:block;
  border:1px solid var(--err);
  background:var(--errBg);
}

.fineprint{
  margin-top:16px;
  font-size:12.5px;
  color:var(--muted);
}
.req{color:var(--err);font-weight:700}
</style>
</head>

<body>
<div class="wrap">
<div class="card">

  <div class="header-image" role="img" aria-label="Memory Garden brick walkway"></div>

  <div class="content">
    <h1>Memory Garden Brick Order</h1>
    <p class="sub">
      Purchase a brick paver for our memorial garden.
      <strong>Payment by Check or Money Order only.</strong>
    </p>

    <div class="pillrow">
      <div class="pill"><strong>Price:</strong> $75 per paver</div>
      <div class="pill"><strong>Inscription:</strong> 3 lines · 20 characters each</div>
      <div class="pill"><strong>Payment:</strong> Check or Money Order</div>
    </div>

    <form id="orderForm">
      <div class="grid">
        <div>
          <label>Full Name <span class="req">*</span></label>
          <input id="fullName" required>
        </div>
        <div>
          <label>Email <span class="req">*</span></label>
          <input id="email" type="email" required>
        </div>
        <div>
          <label>Mobile Number <span class="req">*</span></label>
          <input id="mobile" required>
        </div>
        <div>
          <label>Number of Pavers <span class="req">*</span></label>
          <input id="qty" type="number" min="1" value="1" required>
        </div>
      </div>

      <!-- CLEAR TOTAL -->
      <div class="total">
        <div>
          <div class="help"><strong>Amount to write check for:</strong></div>
          <div class="amt">$<span id="total">75.00</span></div>
        </div>
        <div class="help">
          Make payable to<br>
          <strong>Versailles United Methodist Church</strong>
        </div>
      </div>

      <div class="section">
        <h3>Memorial / Honoree (optional)</h3>
        <div class="grid">
          <div>
            <label>Dedication Type</label>
            <select id="dedicationType">
              <option value="">— Select —</option>
              <option>In Memory Of</option>
              <option>In Honor Of</option>
              <option>Special Occasion</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label>Name / Occasion</label>
            <input id="honoree">
          </div>
        </div>
      </div>

      <div class="section">
        <h3>Brick Inscription (optional)</h3>
        <p class="help">Up to 3 lines · 20 characters per line</p>
        <input id="line1" maxlength="20" placeholder="Line 1">
        <input id="line2" maxlength="20" placeholder="Line 2" style="margin-top:8px">
        <input id="line3" maxlength="20" placeholder="Line 3" style="margin-top:8px">
      </div>

      <div class="section">
        <h3>Notes (optional)</h3>
        <textarea id="notes"></textarea>
      </div>

      <div class="buttons">
        <button type="submit">Submit Brick Order</button>
        <button type="reset" class="secondary">Clear</button>
      </div>

      <div id="status" class="status"></div>

      <div class="fineprint">
        Checks or money orders should be payable to
        <strong>Versailles United Methodist Church</strong>.
      </div>
    </form>
  </div>
</div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzGRk-ePEiBlKt3E86tDmpqwlmfpOUzygVyJHePjoVqEWh_Hne74BH6Y1lf0EW6BtVvdQ/exec";
const PRICE = 75;

const qty = document.getElementById("qty");
const total = document.getElementById("total");
const statusBox = document.getElementById("status");

function updateTotal(){
  const q = Math.max(1, parseInt(qty.value||1));
  qty.value = q;
  total.textContent = (q * PRICE).toFixed(2);
}
qty.addEventListener("input", updateTotal);
updateTotal();

document.getElementById("orderForm").addEventListener("submit", async e=>{
  e.preventDefault();
  statusBox.style.display="none";

  const payload = {
    fullName: fullName.value,
    email: email.value,
    mobile: mobile.value,
    qty: qty.value,
    priceEach: PRICE,
    dedicationType: dedicationType.value,
    honoree: honoree.value,
    inscription:{line1:line1.value,line2:line2.value,line3:line3.value},
    notes: notes.value
  };

  try{
    const res = await fetch(SCRIPT_URL,{
      method:"POST",
      headers:{ "Content-Type":"text/plain;charset=utf-8" },
      body:JSON.stringify(payload)
    });
    const data = await res.json();
    statusBox.className = "status " + (data.ok ? "ok" : "err");
    statusBox.innerHTML = data.ok
      ? "<strong>Success!</strong> Your brick order has been submitted."
      : "<strong>Error:</strong> " + data.error;
    statusBox.style.display="block";
    statusBox.scrollIntoView({behavior:"smooth"});
    if(data.ok) e.target.reset(), updateTotal();
  }catch{
    statusBox.className="status err";
    statusBox.innerHTML="<strong>Error:</strong> Submission failed.";
    statusBox.style.display="block";
  }
});
</script>
</body>
</html>
